
@{
    ViewBag.Title = "monthEmployee";
    Layout = "~/Views/Shared/Back/_MyLayout.cshtml";
}

<h2>monthEmployee</h2>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src=@Url.Content("/Content/bower_components/bootstrap/dist/css/Chart.min.js")></script>
<script src=@Url.Content("/Content/bower_components/bootstrap/dist/js/bootstrap.min.js") type="text/javascript"></script>
<link rel="stylesheet" href=@Url.Content("/Content/bower_components/bootstrap/dist/css/bootstrap.min.css") />

<canvas id="bar_chart"></canvas>

<script type="text/javascript">





   var data = [];
   console.log("*******************DATA1");
   console.log(data);

   @foreach (var r in ViewBag.res)
   {
      <text>
            data.push("@r[0]");
    </text>
   }



    var data2 = [];
    console.log("*******************DATA2");

   @foreach (var r in ViewBag.res)
    {
        <text>
              data2.push(10-@r[1]);
        </text>


    }

    console.log("data1");
    console.log(data);
    console.log("data2");
    console.log(data2);

  

    if (data.length < data2.length)
    {
        var x;
        x =  data.length -data2.length ;

        console.log(x);


        for (i = 0; i < x; i++) { 
            data.push(10);
        }
    }
    else{
        console.log("EGAUUUUUUUUX")

    }



   


    var ctx = $("#bar_chart");
    var varChart = new Chart(ctx,{

        type : 'bar',
        data:{
            labels:data,
            datasets:[{
                label:"Il vous restes dans votre solde",
                data:data2 ,
                backgroundColor: [
                                      'rgba(255, 99, 132, 0.2)',
                                      'rgba(54, 162, 235, 0.2)',
                                      'rgba(255, 206, 86, 0.2)',
                                      'rgba(75, 192, 192, 0.2)',
                                      'rgba(153, 102, 255, 0.2)',
                                      'rgba(255, 159, 64, 0.2)',
                                      'rgba(255, 0, 0)',
                                      'rgba(0, 255, 0)',
                                      'rgba(0, 0, 255)',
                                      'rgba(192, 192, 192)',
                                      'rgba(255, 255, 0)',
                                      'rgba(255, 0, 255)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 0, 0)',
                    'rgba(0, 255, 0)',
                    'rgba(0, 0, 255)',
                    'rgba(192, 192, 192)',
                    'rgba(255, 255, 0)',
                    'rgba(255, 0, 255)'
                ],
                borderWidth:1
            }]
        },

        options:{
            maintainAspectRatio:false,
            scales: {

                yAxes: [{

                    display: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Nombre des réclamations',
                        fontStyle: 'bold'
                    },
                    ticks: {
                        beginAtZero:true,

                        callback: function(value, index, values) {
                            return parseFloat(value).toFixed(2);
                        },
                        autoSkip: true,
                        maxTicksLimit: 10,
                        stepSize: 1.0
                    }
                }]
            },
            legend:{display:true},
            title: {
                display: true,
                text: 'Statistique Reclamation'
            }


        }


    });

</script>

